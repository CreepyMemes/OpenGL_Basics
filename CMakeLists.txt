cmake_minimum_required(VERSION 3.2)

# Set project name
project(OpenGL-Basics VERSION 0.1.0)

# Some random crap auto-generated by the cmake tools extention on vscode 
include(CTest)
enable_testing()

# Add the directory paths containing the header files
include_directories(
    ${CMAKE_SOURCE_DIR}/lib/GLAD/include
    ${CMAKE_SOURCE_DIR}/lib/GLFW/include
)



# Set the path to main.cpp
set(MAIN_SRC ${CMAKE_SOURCE_DIR}/src/main.cpp)

# Set the path to the directory containing other .cpp files
set(GFX_DIR ${CMAKE_SOURCE_DIR}/src/GFX)

# Get a list of .cpp files in the GFX directory
file(GLOB GFX_SOURCES "${GFX_DIR}/*.cpp")

# Add the executable and include the main.cpp and other .cpp files
add_executable(${PROJECT_NAME} ${MAIN_SRC} ${GFX_SOURCES})

# Set OFF these GLFW Option Variables before adding the GLFW subdirectory so it doesn't build useless shit
option(GLFW_BUILD_EXAMPLES OFF)
option(GLFW_BUILD_TESTS OFF)
option(GLFW_BUILD_DOCS OFF)

# Add subdirectories containing libraries to build
add_subdirectory(${CMAKE_SOURCE_DIR}/lib/GLFW)
add_subdirectory(${CMAKE_SOURCE_DIR}/lib/GLAD)

# Link all the libraries to the executable
target_link_libraries(${PROJECT_NAME} glfw glad)

# Whatever the fuck this is
set(CPACK_PROJECT_NAME ${PROJECT_NAME})
set(CPACK_PROJECT_VERSION ${PROJECT_VERSION})
include(CPack)
